<!DOCTYPE html>
<html>
<title>Coin Flip impoved</title>

<head> </head>

<body>
  <button onclick="playGame('heads');"> heads </button>
  <button onclick="playGame('tails');"> tails </button>
  <p>
  <button onclick="clearScore();"> CLEAR </button>
  </p>
</body>

<script>

  let storedScore = localStorage.getItem('score') || '';
  console.log('Local storage at the start: ' + storedScore);

  let score = JSON.parse(storedScore) || {
    wins: 0,
    losses: 0
  }

  function playGame(guess) {

    let randomNumber = Math.random();
    let result = '';

    if (randomNumber < 0.5) {
      result += 'heads';
    }
    else {
      result += 'tails';
    }

    guess === result
      ? (alert(`${result}. You win!`), score.wins++,       localStorage.setItem('score', JSON.stringify(score)))
      : (alert(`${result}. You lose!`), score.losses++,
      localStorage.setItem('score', JSON.stringify(score)));

    console.log('Wins:' + score.wins + ' Losses: ' + score.losses)
  }

  function clearScore(){
    score.wins = 0;
    score.losses = 0;
    console.log('Wins:' + score.wins + ' Losses: ' + score.losses);
    localStorage.setItem('score', JSON.stringify(score));
  }

</script>

</html>